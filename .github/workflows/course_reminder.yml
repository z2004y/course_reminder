name: Daily Schedule Reminder

on:
  schedule:
    - cron: '40 22 * * *'  # UTC 时间，换算为北京时间是早上 6:40

jobs:
  send_reminder:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v2
      
    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: 3.8
    
    - name: Install dependencies
      run: pip install requests pytz
      
    - name: Run schedule reminder
      env:
        WXPUSHER_APP_TOKEN: ${{ secrets.WXPUSHER_APP_TOKEN }}
        WXPUSHER_TOPIC_ID: ${{ secrets.WXPUSHER_TOPIC_ID }}
      run: python schedule_reminder.py
